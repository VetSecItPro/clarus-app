# Manual Security Fixes Required

These security issues require manual configuration in the Supabase Dashboard.

## FIX-005: OTP Expiry Too Long (HIGH)

**Issue:** Email OTP expiry is set to more than one hour. Long-lived OTPs increase the risk of code interception or reuse.

**Steps to Fix:**
1. Go to Supabase Dashboard: https://supabase.com/dashboard/project/dxyfpehucygiughjmiek
2. Navigate to **Authentication** > **Providers** > **Email**
3. Find the **OTP Expiry** setting
4. Set it to **900 seconds** (15 minutes) or less
5. Click **Save**

**Recommended Value:** 600-900 seconds (10-15 minutes)

---

## FIX-006: Leaked Password Protection Disabled (HIGH)

**Issue:** Supabase Auth's leaked password protection (HaveIBeenPwned check) is disabled. Users may set passwords that have been exposed in data breaches.

**Steps to Fix:**
1. Go to Supabase Dashboard: https://supabase.com/dashboard/project/dxyfpehucygiughjmiek
2. Navigate to **Authentication** > **Providers** > **Email**
3. Enable **Leaked Password Protection**
4. Click **Save**

**More Info:** https://supabase.com/docs/guides/auth/password-security#password-strength-and-leaked-password-protection

---

## FIX-008: Postgres Version Needs Security Patches (MEDIUM)

**Issue:** Current Postgres version (supabase-postgres-17.4.1.041) has outstanding security patches available.

**Steps to Fix:**
1. Go to Supabase Dashboard: https://supabase.com/dashboard/project/dxyfpehucygiughjmiek
2. Navigate to **Settings** > **Infrastructure**
3. Look for available Postgres upgrades
4. Schedule or apply the upgrade during a maintenance window

**Note:** Database upgrades may cause brief downtime. Plan accordingly.

**More Info:** https://supabase.com/docs/guides/platform/upgrading

---

## Verification

After completing these steps, run the security audit again to confirm the issues are resolved:

```bash
# In Claude Code
/sec-audit
```

The Supabase security advisor should no longer show these warnings.

---

*Generated by Claude Security Audit - 2026-01-14*
